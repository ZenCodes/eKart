  <script src="../webcomponentsjs/webcomponents.js"></script>
  <link href="../components/core-label/core-label.html" rel="import">
  <link rel="import" href="../components/core-ajax/core-ajax.html" />
<polymer-element name="cart-count">
<template>
<style>
#cc{
//margin-left:1120px;
}
</style>
   <core-label id="cc" >{{len}}</core-label>
    <core-ajax id="rajax"
         auto
         url="http://hotelapp.iriscouch.com/addtocart/_design/uname/_view/username?key={{uname}}"
         on-core-response="{{itemLoaded}}"
         handleAs="json">
     </core-ajax>
  </template>
  <script>
    Polymer({
    ready:function()
    {
    this.itemarr=[];
    this.uname=JSON.stringify(localStorage.getItem("nam"));
    this.len="0";
    //this.len=sessionStorage.getItem("cartcount");
    },
    itemLoaded:function()
    {
    this.itemarr=this.$.rajax.response;
   this.len=JSON.stringify(this.itemarr.rows.length);
   alert(JSON.stringify(this.itemarr.rows.length));
    },
    countValue:function()
    {
    this.uname=JSON.stringify(localStorage.getItem("nam"));
    this.$.rajax.go();
    //this.len=len;
    }
      });
  </script>
</polymer-element>


